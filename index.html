<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Climbing Skill Progression Chart</title>
    <style>
      /* Add body styles */
      body {
        margin: 0;
        padding: 0;
        background-color: #121212;
        min-height: 100vh;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* Update overall container and general styles */
      .climbing-chart-container {
        font-family: "Arial", sans-serif;
        max-width: 1440px;
        width: 100%;
        margin: 0 auto;
        padding: 20px;
        background-color: #121212;
        color: #ffffff;
        line-height: 1.4;
      }

      /* Add responsive adjustments for the container */
      @media (max-width: 1440px) {
        .climbing-chart-container {
          padding: 20px;
        }
      }

      @media (max-width: 768px) {
        .climbing-chart-container {
          padding: 15px 10px;
        }
      }

      .chart-title {
        text-align: center;
        color: #ffffff;
        margin-bottom: 30px;
        font-size: 32px;
        font-weight: bold;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .emoji {
        font-size: 36px;
        margin: 0 15px;
        vertical-align: middle;
      }

      /* Update intro text */
      .intro-text {
        background: #1a1a1a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 25px;
        margin-bottom: 30px;
        text-align: center;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      }

      .intro-text p {
        margin: 0;
        color: #ffffff;
        font-size: 16px;
        line-height: 1.6;
        font-weight: 500;
      }

      /* Update level selection */
      .level-selection {
        background: #1a1a1a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      }

      .level-selection h2 {
        color: #ffc804;
        margin-bottom: 25px;
        font-size: 24px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .level-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
        margin-bottom: 25px;
      }

      .level-btn {
        padding: 14px 24px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.05);
        color: white;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        backdrop-filter: blur(10px);
      }

      .level-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .level-btn.selected {
        background: rgba(255, 200, 4, 0.1);
        color: #ffc804;
        border-color: #ffc804;
        box-shadow: 0 4px 15px rgba(255, 200, 4, 0.2);
        font-weight: 600;
      }

      .current-level-info {
        color: #ffffff;
        font-size: 15px;
        margin-top: 20px;
        padding: 15px 20px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        backdrop-filter: blur(5px);
      }

      .show-all-btn {
        background: rgba(255, 255, 255, 0.05);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 14px 28px;
        border-radius: 12px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 25px auto;
        display: block;
        font-size: 14px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      .show-all-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
      }

      /* Update progress tracker */
      .progress-tracker {
        background: #1a1a1a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      }

      .progress-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
      }

      .progress-title {
        color: #ffc804;
        font-size: 24px;
        font-weight: bold;
      }

      .progress-stats {
        display: flex;
        gap: 20px;
      }

      .stat-box {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 15px 25px;
        border-radius: 12px;
        text-align: center;
        min-width: 120px;
      }

      .stat-value {
        color: #ffc804;
        font-size: 28px;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .stat-label {
        color: #ffffff;
        font-size: 14px;
        opacity: 0.8;
      }

      .progress-bar-container {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 25px;
      }

      .progress-bar {
        height: 8px;
        background: linear-gradient(90deg, #ffc804 0%, #ff8f00 100%);
        border-radius: 4px;
        transition: width 0.5s ease;
      }

      /* Update badges section */
      .badges-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 20px;
        margin-top: 25px;
      }

      .badge {
        background: #1a1a1a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .badge:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        border-color: rgba(255, 200, 4, 0.3);
      }

      .badge.locked {
        opacity: 0.7;
        filter: grayscale(0.8);
      }

      .badge.unlocked {
        border-color: #ffc804;
        box-shadow: 0 4px 12px rgba(255, 200, 4, 0.1);
      }

      .badge.unlocked::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 200, 4, 0.05) 0%,
          rgba(255, 143, 0, 0.05) 100%
        );
        z-index: 0;
      }

      .badge-icon {
        font-size: 36px;
        margin-bottom: 15px;
        position: relative;
        z-index: 1;
      }

      .badge-name {
        color: #ffffff;
        font-size: 15px;
        font-weight: 600;
        margin-bottom: 8px;
        position: relative;
        z-index: 1;
      }

      .badge.unlocked .badge-name {
        color: #ffc804;
      }

      .badge-description {
        color: rgba(255, 255, 255, 0.6);
        font-size: 13px;
        line-height: 1.4;
        position: relative;
        z-index: 1;
      }

      .badge.unlocked .badge-description {
        color: rgba(255, 255, 255, 0.8);
      }

      /* Update notifications */
      .skill-mastered-notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #1a1a1a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        animation: slideIn 0.3s ease-out;
      }

      .badge-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #1a1a1a;
        border: 1px solid #ffc804;
        color: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 15px;
        animation: slideIn 0.3s ease-out;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .chart-title {
          font-size: 24px;
        }

        .emoji {
          font-size: 28px;
        }

        .level-selection,
        .progress-tracker,
        .intro-text {
          padding: 20px;
          margin: 0 -10px 20px;
          border-radius: 12px;
        }

        .progress-stats {
          flex-direction: column;
          gap: 10px;
        }

        .stat-box {
          min-width: auto;
        }

        .badges-section {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 15px;
        }
      }

      /* Skills Table */
      .table-container {
        background: #1a1a1a;
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .table-wrapper {
        overflow-x: auto;
        border-radius: 16px;
      }

      .skills-table {
        width: 100%;
        min-width: 700px;
        border-collapse: separate;
        border-spacing: 0;
        font-size: 13px;
      }

      .skills-table th {
        background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
        color: #ffffff;
        padding: 20px 15px;
        text-align: center;
        font-weight: 600;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-bottom: 2px solid rgba(255, 255, 255, 0.1);
      }

      .skills-table th.skill-header {
        background: #121212;
        text-align: left;
        width: 220px;
        min-width: 220px;
        font-size: 13px;
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        padding-left: 20px;
      }

      .skills-table td {
        padding: 16px 12px;
        text-align: center;
        vertical-align: middle;
        background-color: #1a1a1a;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        transition: background-color 0.2s ease;
      }

      .skills-table tr:hover td {
        background-color: #222222;
      }

      /* Update skill name styles */
      .skill-name {
        text-align: left !important;
        font-weight: 500;
        background-color: #121212 !important;
        color: #ffffff;
        width: 220px;
        min-width: 220px;
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        padding: 16px 20px;
        font-size: 14px;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .skill-name:hover {
        background-color: rgba(0, 116, 200, 0.1) !important;
        transform: translateX(3px);
        color: #ffc804;
      }

      /* Modern SVG info icon styles */
      .clickable-skill::after {
        content: "";
        width: 14px;
        height: 14px;
        margin-left: 8px;
        opacity: 0.5;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='16' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='8' x2='12.01' y2='8'%3E%3C/line%3E%3C/svg%3E");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        transition: all 0.2s ease;
      }

      .skill-name:hover::after {
        opacity: 1;
        transform: scale(1.1);
        filter: brightness(1.2);
      }

      /* Remove the arrow indicator */
      .skill-name::before {
        display: none;
      }

      .category-header {
        background-color: #2a2a2a !important;
        color: #ffc804 !important;
        font-weight: 600;
        font-size: 15px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 20px !important;
        border-bottom: 2px solid rgba(255, 255, 255, 0.1);
      }

      .clickable-skill {
        position: relative;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .checkmark {
        color: #00c853;
        font-size: 18px;
        font-weight: bold;
        text-shadow: 0 0 10px rgba(0, 200, 83, 0.3);
      }

      /* Add alternating row colors for better readability */
      .skills-table tr:nth-child(even) td {
        background-color: #1e1e1e;
      }

      .skills-table tr:nth-child(even):hover td {
        background-color: #252525;
      }

      /* Add subtle hover effect for level cells */
      .skills-table td:not(.skill-name):hover {
        background-color: rgba(0, 116, 200, 0.05);
      }

      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(4px);
        overflow-y: auto; /* Enable vertical scrolling for the modal background */
      }

      .modal-content {
        background: linear-gradient(135deg, #343434 0%, #121212 100%);
        margin: 5% auto;
        padding: 30px;
        border: 2px solid #0074c8;
        border-radius: 15px;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 10px 30px rgba(0, 116, 200, 0.4);
        color: #ffffff;
        position: relative;
        animation: modalSlideIn 0.3s ease-out;
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .modal-close {
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s ease;
        color: #807c7c;
        margin-bottom: 15px;
      }

      .modal-close:hover {
        color: #ffc804;
      }

      .modal-title {
        color: #ffc804;
        margin: 15px 0;
        font-size: 24px;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
        clear: both; /* Clear the float from close button */
      }

      .modal-description {
        color: #ffffff;
        font-size: 16px;
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .modal-section {
        margin-top: 20px;
      }

      .modal-section-title {
        color: #0074c8;
        font-size: 18px;
        font-weight: bold;
        margin: 20px 0 15px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .modal-list {
        list-style: none;
        padding-left: 0;
        margin-top: 10px;
      }

      .modal-list li {
        margin-bottom: 12px;
        padding: 12px;
        background: rgba(0, 116, 200, 0.1);
        border-left: 4px solid #0074c8;
        border-radius: 6px;
        line-height: 1.5;
      }

      .modal-list li:last-child {
        margin-bottom: 0;
      }

      /* Add custom scrollbar styles */
      .modal-content::-webkit-scrollbar {
        width: 8px;
      }

      .modal-content::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
      }

      .modal-content::-webkit-scrollbar-thumb {
        background: #0074c8;
        border-radius: 4px;
      }

      .modal-content::-webkit-scrollbar-thumb:hover {
        background: #005fa3;
      }

      /* Update missing skills styles to work better with scrolling */
      .missing-skills-header {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        margin-bottom: 15px;
      }

      .missing-skill {
        margin-bottom: 10px;
        background: rgba(0, 116, 200, 0.1);
        border-radius: 8px;
        padding: 12px;
        display: flex;
        align-items: center;
        gap: 12px;
        transition: transform 0.2s ease;
      }

      .missing-skill:hover {
        transform: translateX(5px);
        background: rgba(0, 116, 200, 0.15);
      }

      /* Leaderboard Styles */
      .leaderboard {
        display: none;
      }

      /* Interactive Milestone Styles */
      .milestone {
        position: relative;
        cursor: pointer;
      }

      .milestone-tooltip {
        position: absolute;
        background: #343434;
        border: 2px solid #0074c8;
        border-radius: 8px;
        padding: 10px;
        width: 200px;
        z-index: 1000;
        display: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .milestone:hover .milestone-tooltip {
        display: block;
      }

      .milestone-title {
        color: #ffc804;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .milestone-description {
        color: #ffffff;
        font-size: 12px;
      }

      /* New styles for skill mastered notification */
      .skill-mastered-notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: linear-gradient(135deg, #0074c8 0%, #1201cb 100%);
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 116, 200, 0.4);
        z-index: 1000;
        animation: slideIn 0.3s ease-out;
      }

      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .badge-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #343434 0%, #121212 100%);
        border: 2px solid #ffc804;
        color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(255, 200, 4, 0.4);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 15px;
        animation: slideIn 0.3s ease-out;
      }

      .badge-notification .badge-icon {
        font-size: 32px;
      }

      .badge-notification .badge-info {
        flex-grow: 1;
      }

      .badge-notification .badge-name {
        color: #ffc804;
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 5px;
      }

      .badge-notification .badge-description {
        color: #ffffff;
        font-size: 14px;
      }

      .missing-skills-header {
        margin-top: 15px !important;
        border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
        padding-top: 15px !important;
      }

      .missing-skill {
        display: flex !important;
        align-items: center !important;
        gap: 10px !important;
        padding: 10px !important;
        background: rgba(0, 116, 200, 0.1) !important;
        border-radius: 6px !important;
        margin-top: 8px !important;
      }

      .skill-icon {
        font-size: 20px;
      }

      .skill-name {
        flex-grow: 1;
        color: #ffffff;
      }

      .master-skill-btn {
        background: linear-gradient(135deg, #0074c8 0%, #1201cb 100%);
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.3s ease;
      }

      .master-skill-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 116, 200, 0.3);
      }

      /* Update modal styles for better mobile responsiveness */
      .modal-content {
        background: linear-gradient(135deg, #343434 0%, #121212 100%);
        margin: 5% auto;
        padding: 25px;
        border: 2px solid #0074c8;
        border-radius: 15px;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 10px 30px rgba(0, 116, 200, 0.4);
        color: #ffffff;
        position: relative;
        animation: modalSlideIn 0.3s ease-out;
      }

      /* Update missing skills styles for better mobile layout */
      .missing-skill {
        display: flex !important;
        align-items: center !important;
        gap: 10px !important;
        padding: 12px !important;
        background: rgba(0, 116, 200, 0.1) !important;
        border-radius: 8px !important;
        margin-top: 8px !important;
        flex-wrap: wrap;
      }

      .skill-icon {
        font-size: 20px;
        flex-shrink: 0;
      }

      .skill-name {
        flex-grow: 1;
        color: #ffffff;
        min-width: 120px;
      }

      .master-skill-btn {
        background: linear-gradient(135deg, #0074c8 0%, #1201cb 100%);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 13px;
        transition: all 0.3s ease;
        white-space: nowrap;
        flex-shrink: 0;
        min-width: 120px;
        text-align: center;
      }

      .master-skill-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 116, 200, 0.3);
      }

      /* Comprehensive responsive updates */
      @media (max-width: 768px) {
        /* General container adjustments */
        .climbing-chart-container {
          padding: 15px 10px;
        }

        /* Title and header adjustments */
        .chart-title {
          font-size: 22px;
          margin-bottom: 20px;
        }

        .emoji {
          font-size: 24px;
          margin: 0 8px;
        }

        /* Intro text adjustments */
        .intro-text {
          padding: 15px;
          margin: 0 -5px 20px;
          border-radius: 12px;
        }

        .intro-text p {
          font-size: 14px;
        }

        /* Level selection adjustments */
        .level-selection {
          padding: 15px;
          margin: 0 -5px 20px;
          border-radius: 12px;
        }

        .level-selection h2 {
          font-size: 20px;
          margin-bottom: 15px;
        }

        .level-buttons {
          gap: 8px;
        }

        .level-btn {
          padding: 10px 15px;
          font-size: 13px;
          width: calc(50% - 4px);
        }

        .level-btn small {
          display: block;
          font-size: 11px;
          margin-top: 2px;
        }

        .current-level-info {
          font-size: 13px;
          padding: 12px;
          margin-top: 15px;
        }

        .show-all-btn {
          padding: 12px 20px;
          font-size: 13px;
          margin: 15px auto;
        }

        /* Progress tracker adjustments */
        .progress-tracker {
          padding: 20px 15px;
          margin: 0 -5px 20px;
          border-radius: 12px;
        }

        .progress-header {
          flex-direction: column;
          gap: 15px;
          margin-bottom: 20px;
        }

        .progress-title {
          font-size: 20px;
          text-align: center;
        }

        .progress-stats {
          flex-direction: row;
          flex-wrap: wrap;
          justify-content: center;
          gap: 10px;
          width: 100%;
        }

        .stat-box {
          flex: 1;
          min-width: calc(50% - 5px);
          padding: 12px;
        }

        .stat-value {
          font-size: 24px;
        }

        .stat-label {
          font-size: 12px;
        }

        .progress-bar-container {
          padding: 15px;
          margin-bottom: 20px;
        }

        /* Badges section adjustments */
        .badges-section {
          grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
          gap: 12px;
          margin-top: 20px;
        }

        .badge {
          padding: 15px;
        }

        .badge-icon {
          font-size: 28px;
          margin-bottom: 10px;
        }

        .badge-name {
          font-size: 13px;
        }

        .badge-description {
          font-size: 11px;
        }

        /* Table adjustments */
        .table-container {
          margin: 0 -5px 20px;
          border-radius: 12px;
        }

        .skills-table {
          font-size: 12px;
        }

        .skills-table th {
          padding: 12px 8px;
          font-size: 11px;
        }

        .skills-table td {
          padding: 10px 8px;
        }

        .skill-name {
          padding: 10px 12px;
          font-size: 13px;
        }

        /* Modal adjustments */
        .modal-content {
          margin: 10% auto;
          padding: 20px;
          width: 95%;
        }

        .modal-title {
          font-size: 20px;
          margin: 10px 0;
        }

        .modal-description {
          font-size: 14px;
          margin-bottom: 15px;
        }

        .modal-section-title {
          font-size: 16px;
          margin: 15px 0 10px;
        }

        .modal-list li {
          padding: 10px;
          font-size: 13px;
          margin-bottom: 8px;
        }

        /* Missing skills adjustments */
        .missing-skills-header {
          margin-top: 15px !important;
          padding-top: 15px !important;
          font-size: 15px !important;
        }

        .missing-skill {
          padding: 10px !important;
          gap: 8px !important;
        }

        .skill-icon {
          font-size: 18px;
        }

        .skill-name {
          font-size: 13px;
          min-width: 100px;
        }

        .master-skill-btn {
          padding: 6px 12px;
          font-size: 12px;
          min-width: 100px;
          width: 100%;
          margin-top: 8px;
        }

        /* Notification adjustments */
        .skill-mastered-notification {
          bottom: 10px;
          right: 10px;
          left: 10px;
          padding: 12px 15px;
          font-size: 13px;
          text-align: center;
        }

        .badge-notification {
          top: 10px;
          right: 10px;
          left: 10px;
          padding: 15px;
          font-size: 13px;
        }

        .badge-notification .badge-icon {
          font-size: 24px;
        }

        .badge-notification .badge-name {
          font-size: 15px;
        }

        .badge-notification .badge-description {
          font-size: 12px;
        }
      }

      /* Additional breakpoint for very small screens */
      @media (max-width: 380px) {
        .level-btn {
          width: 100%;
        }

        .stat-box {
          min-width: 100%;
        }

        .badges-section {
          grid-template-columns: 1fr;
        }

        .missing-skill {
          flex-direction: column;
          align-items: flex-start !important;
        }

        .master-skill-btn {
          width: 100%;
          margin-top: 8px;
        }
      }

      /* Add animation classes */
      .animate-on-scroll {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }

      .animate-on-scroll.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Add animation delays for staggered effects */
      .delay-1 {
        transition-delay: 0.1s;
      }
      .delay-2 {
        transition-delay: 0.2s;
      }
      .delay-3 {
        transition-delay: 0.3s;
      }
      .delay-4 {
        transition-delay: 0.4s;
      }
      .delay-5 {
        transition-delay: 0.5s;
      }

      /* Add smooth scroll behavior to the whole page */
      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body>
    <div class="climbing-chart-container">
      <h1 class="chart-title">
        <span class="emoji">üßó‚Äç‚ôÇÔ∏è</span>
        Climbing Level Checklist: Skill Growth Guide
        <span class="emoji">üßó‚Äç‚ôÇÔ∏è</span>
      </h1>

      <div class="intro-text">
        <p>
          Hey climbers! This is a focused version showing the core skills with
          detailed popups. Click on any skill name to learn more and get
          training tips!<br /><br /><strong>Coach Zach</strong>
        </p>
      </div>

      <div class="level-selection">
        <h2>üéØ What's Your Current Level?</h2>
        <div class="level-buttons">
          <button class="level-btn" data-level="1">
            Beginner<br /><small>V0-V2 / 5.0-10-</small>
          </button>
          <button class="level-btn" data-level="2">
            Intermediate<br /><small>V3-4 / 5.10-5.11</small>
          </button>
          <button class="level-btn" data-level="3">
            Advanced<br /><small>V5-6 / 5.12</small>
          </button>
          <button class="level-btn" data-level="4">
            Advanced Plus<br /><small>V7-8 / 5.12+-5.13-</small>
          </button>
          <button class="level-btn" data-level="5">
            Elite<br /><small>V9-10 / 5.13+</small>
          </button>
        </div>
        <div class="current-level-info" id="levelInfo">
          Select your current level to see focused skills and training
          recommendations!
        </div>
        <button class="show-all-btn" onclick="toggleShowAll()">
          Show All Levels
        </button>
      </div>

      <!-- Progress Tracker -->
      <div class="progress-tracker">
        <div class="progress-header">
          <h2 class="progress-title">Your Progress</h2>
          <div class="progress-stats">
            <div class="stat-box">
              <div class="stat-value" id="totalSkills">0</div>
              <div class="stat-label">Skills Mastered</div>
            </div>
            <div class="stat-box">
              <div class="stat-value" id="currentLevel">-</div>
              <div class="stat-label">Current Level</div>
            </div>
            <div class="stat-box">
              <div class="stat-value" id="badgesEarned">0</div>
              <div class="stat-label">Badges Earned</div>
            </div>
          </div>
        </div>

        <div class="progress-bar-container">
          <div class="progress-bar" id="levelProgress" style="width: 0%"></div>
        </div>

        <div class="badges-section" id="badgesContainer">
          <!-- Badges will be populated by JavaScript -->
        </div>
      </div>

      <div class="table-container">
        <div class="table-wrapper">
          <table class="skills-table">
            <thead>
              <tr>
                <th class="skill-header">Skills & Attributes</th>
                <th>Beginner<br />V0-V2</th>
                <th>Intermediate<br />V3-4</th>
                <th>Advanced<br />V5-6</th>
                <th>Advanced Plus<br />V7-8</th>
                <th>Elite<br />V9-10</th>
              </tr>
            </thead>
            <tbody id="skillsTableBody">
              <!-- Skills populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <div id="skillModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <h2 class="modal-title" id="modalTitle"></h2>
        <div class="modal-description" id="modalDescription"></div>
        <div class="modal-section">
          <div class="modal-section-title">
            <span>üí™</span>
            <span>How to Improve</span>
          </div>
          <ul class="modal-list" id="modalExercisesList"></ul>
        </div>
      </div>
    </div>
    <script>
      // Add this at the beginning of the script section
      // Prevent scroll restoration on page reload
      if ("scrollRestoration" in history) {
        history.scrollRestoration = "manual";
      }

      // Force scroll to top on page load
      window.addEventListener("load", function () {
        window.scrollTo(0, 0);
      });

      // Core skills data with Coach Zach's authentic descriptions
      const skillsData = [
        {
          category: "Movement Skills",
          name: "Inside Edge Foot Placement",
          levels: [1],
          icon: "ü¶∂",
          description:
            "Using the inner edge of your climbing shoe near the big toe.",
          exercises: [
            "**Drill:** Traverse a wall using only inside edges. Keep the hips open and chest facing the wall, no toe or outside edge allowed.",
          ],
        },
        {
          category: "",
          name: "Outside Edge Foot Placement",
          levels: [1],
          icon: "ü¶∂",
          description:
            "Using the outer edge of your climbing shoe, typically with the pinky toe area.",
          exercises: [
            "**Drill:** Traverse an easy wall facing one direction, moving forward and backward the entire time. Bring close attention to the balance that good outside edge placements provide.",
          ],
        },
        {
          category: "",
          name: "Toe Edge Foot Placement",
          levels: [1],
          icon: "ü¶∂",
          description:
            "Using the front of the shoe, especially the tip of the big toe.",
          exercises: [
            "**Drill:** Traverse an easy wall, using only the tip of your big toe for every foot placement.",
          ],
        },
        {
          category: "",
          name: "Smearing",
          levels: [1],
          icon: "ü¶∂",
          description:
            "Using friction against the wall when there are no defined footholds or the foothold is small or on low-angle terrain.",
          exercises: [
            "**Drill:** On low-angle terrain, drop the heel below the toes and climb on the smallest holds possible, even smearing where no holds exist. Slips are ok! It's good to test the limits of friction.",
          ],
        },
        {
          category: "",
          name: "Hips In (Vertical/Steep Terrain)",
          levels: [1],
          icon: "üèÉ",
          description:
            "Keeping your hips close to the wall on vertical and overhanging routes.",
          exercises: [
            "**Drill:** Practice feeling how bringing your knees and hips closer to the wall on vertical and steeper terrain reduces the strain on your hands and increases the weight on your feet.",
          ],
        },
        {
          category: "",
          name: "Hips Out (Low-angle Slab)",
          levels: [1],
          icon: "üèÉ",
          description:
            "Keeping your hips away from the wall and over your feet on low-angle slab climbs to maintain the center of gravity over the bases of support.",
          exercises: [
            '**Drill:** On slab terrain, practice keeping your hips pushed away from the wall. Experiment with bringing your hips toward and away from the wall to find the "sweet spot" of balance and pressure on your feet. Focus on trusting your feet and looking down to spot the next foothold.',
          ],
        },
        {
          category: "",
          name: "Rock Over onto High Foot",
          levels: [1],
          icon: "üßó",
          description:
            "Shifting your hips and weight onto the new high foothold before standing up and reaching the next handhold.",
          exercises: [
            "**Drill:** Practice stepping high and committing your weight fully to that foot to stand up. Start on easy terrain and gradually increase difficulty.",
          ],
        },
        {
          category: "",
          name: "Outside Flag",
          levels: [1],
          icon: "ü¶µ",
          description:
            "Using your outside leg as a counterbalance by pressing it against the wall without a foothold or hovering it near the wall.",
          exercises: [
            '**Drill:** On vertical terrain with plenty of big holds, try one of my favorite drills, "Strictly Outside Edge". In this drill, you can only place the outside edge of your foot on a hold. This will also help you to learn the fundamental climbing technique called the "twist lock" or Same-Side-In climbing technique.',
          ],
        },
        {
          category: "",
          name: "Leg Extension",
          levels: [1],
          icon: "ü¶µ",
          description:
            "Fully straightening your leg to maximize reach and create a stable base.",
          exercises: [
            "**Drill:** Practice completely extending the leg on footholds rather than staying in a crouched or bent-knee position. Focus on using your legs like springs to push yourself up to the next hold. Bonus point, try it on steeper than vertical terrain.",
          ],
        },
        {
          category: "",
          name: "Center of Gravity Over Base",
          levels: [1],
          icon: "‚öñÔ∏è",
          description:
            "Positioning your body weight so that maximum weight is on the feet for stability and efficiency.",
          exercises: [
            '**Drill:** Try another one of my favorite drills, called the "4 for 1 drill". Climbing on a wall with a high density of holds make at least 4 foot moves before every hand move. The goal is to find the perfect body position before moving the hand. The key is to find a position that requires no dynamic movement, allowing for perfect balance when making the hand gesture.',
          ],
        },
        {
          category: "",
          name: "Foot Swapping",
          levels: [2],
          icon: "ü¶∂",
          description:
            "Switching which foot is on a hold, typically to improve body position for the next move.",
          exercises: [
            "**Drill:** Practice swapping feet smoothly on a slab while using the least amount of grip strength for support. For both the hands and the feet, start with large holds and progress to smaller ones.",
          ],
        },
        {
          category: "",
          name: "Same-Side-In Technique",
          levels: [2],
          icon: "üßó",
          description:
            "A fundamental climbing skill that optimizes efficient movement. Also known as a twist lock.",
          exercises: [
            "**Drill:** Follow this one rule: only move the right hand once the right hip is in towards the wall, and only move the left hand once the left hip is in towards the wall. This often requires multiple foot movements before you can make a hand movement.",
          ],
        },
        {
          category: "",
          name: "Straight Upper Arm Technique",
          levels: [2],
          icon: "üí™",
          description:
            "Keeping your arms straight to hang efficiently and save energy, using your skeleton rather than muscles.",
          exercises: [
            "**Drill:** Start on easy terrain and practice getting a straight leading arm before moving the lower arm up. Bonus, this one task will require you to practice multiple skills.",
          ],
        },
        {
          category: "",
          name: "Posterior Chain Tension",
          levels: [2],
          icon: "üí™",
          description:
            "Engaging the muscles along the back of your body (calves, hamstrings, glutes, lower back) to create stability.",
          exercises: [
            "**Drill:** On vertical or overhanging terrain, practice consciously pulling, not pushing, with your toes while engaging your calves, hamstrings, glutes, and lower back to create tension. Focus on feeling connected from the tips of your toes to the tips of your fingers.",
          ],
        },
        {
          category: "",
          name: "Back Step/Drop Knee Precision",
          levels: [2],
          icon: "ü¶µ",
          description:
            "Turning your hip into the wall and dropping your knee to reach holds or create stability.",
          exercises: [
            '**Drill:** With a wide stance, place the right foot higher than the left foot and reach to a hold with the left hand and lower or "drop" the left knee. I know it\'s a bit complicated, BUT the basics of this skill were learned in the Same-Side-In technique reviewed earlier in the list of skills.',
          ],
        },
        {
          category: "",
          name: "Back Flag",
          levels: [2],
          icon: "ü¶µ",
          description:
            "Using a leg as a counterbalance by putting one leg across and behind the other.",
          exercises: [
            "**Drill:** The drill is also HOW a back flag is created or the situation when it's used. Start on vertical terrain with good hold. The right hand and right leg have a hold, and the holds are close together. The left leg does not have a foot hold. The left leg goes behind and under the right leg. The left toes points for optimal stability. Repeat on the left side and climb up the wall doing nothing but back flags. I think about it like this: two holds, same side of the body and close together BOOM a backflag is born.",
          ],
        },
        {
          category: "",
          name: "Deadpoint",
          levels: [2],
          icon: "üéØ",
          description:
            "A controlled dynamic movement where you generate momentum and catch the hold at the peak of your reach and at least one foot stays on the wall.",
          exercises: [
            "**Drill:** On vertical or steeper terrain find a sit start or crouched start on big holds and big feet. Then drive through the legs and hips to the furthest holds you can reach while keeping your feet on the wall. Focus lower body power and fast arm gesture but avoid wild swings.",
          ],
        },
        {
          category: "",
          name: "Heel Hook",
          levels: [2],
          icon: "ü¶∂",
          description:
            "Using the back of your heel to pull on a hold. It's like your heel becomes a third hand and your leg becomes a third arm.",
          exercises: [
            "**Drill:** This is a simple yet effective drill that most people find challenging. Climb vertical or steeper terrain with lots of positive hold. Heel hook your way up only using a toe or inside edge to establish the heel hook. Use a heel hook for every foot placement. It's like learning to serve a tennis ball or the freestyle stroke in swimming. Do the same move over and over with intention and keep improving with repetitive practice.",
          ],
        },
        {
          category: "",
          name: "High Steps",
          levels: [2],
          icon: "ü¶µ",
          description:
            "Placing your foot on a hold at or above knee level to make upward progress. Some amount of hip flexibility is key here.",
          exercises: [
            "**Drill:** On vertical or steeper terrain, practice bringing your knee close to your chest before committing to a foot placement. Then rock weight onto that foot and drive pressure through strength through the leg.",
            "**P.S.** Many people prefer high feet or low feet (tension) so identifying your preference is key to smashing weakness.",
          ],
        },
        {
          category: "",
          name: "Momentum Generation (Legs/Hips)",
          levels: [2],
          icon: "üèÉ",
          description:
            "Using your lower body to create momentum and extension.",
          exercises: [
            '**Drill:** Think "Drive & Press", while climbing. "Drive" through the legs and "Press" the hips into the wall. Even if you pass the hand hold while you "Drive & Press" that OK. We are practicing.',
            "**P.S.** Many climbers do not fully extend through the knees and hips while climbing missing out on length and reach they could have had.",
          ],
        },
        {
          category: "",
          name: "Rest Position ID & Execution",
          levels: [2],
          icon: "üòå",
          description:
            "Recognizing and utilizing positions where you can recover mental and physical energy during a climb. Key for rope climbers.",
          exercises: [
            '**Drill:** Identify the best holds and stances on a rope climb. Then chunk the climbing into sections by climbing fast and efficiently from stance to stance. Rest a few seconds or more at the stance then "punch it" to the next stance.',
            "**P.S.** This chunking of a route can help us break a climb into manageable sections.",
          ],
        },
        {
          category: "",
          name: "Climbing Pace Management",
          levels: [2],
          icon: "‚è±Ô∏è",
          description:
            "Controlling your speed throughout a climb to optimize energy expenditure and potential avoid a debilitating pump.",
          exercises: [
            "**Drill:** Climb the same route 4 times. First slow, then moderate, and then fast. Once you know the route, climb it as fast as you can while maintaining quality technique.",
            "**P.S.** Many of us warm up by climbing slow and then just climb slowly the rest of the session. Yet, climbing slowly is not often the most efficient way to climb. Less time on the climb equals less grip strength needed.",
          ],
        },
        {
          category: "",
          name: "Knee/Hip Position vs Wall",
          levels: [2],
          icon: "üèÉ",
          description:
            "Positioning your knees and hips close to the wall to get more weight over the legs and onto the feet.",
          exercises: [
            "**Drill:** Practice on vertical or steeper terrain, consciously adjusting your knee and hip closer to the wall. Notice how bringing them closer to the wall on steep terrain reduces arm strain.",
            "**P.S.** Getting the knees and hips closer to the wall is often any easy way to improve technique and efficiency without having to do much work to get it. I simply try to get my knee to touch the wall and walla, more weight on the feet.",
          ],
        },
        {
          category: "",
          name: "Hip Position vs Center of Gravity",
          levels: [2],
          icon: "‚öñÔ∏è",
          description:
            "Managing your hip position to optimize balance and control your center of gravity.",
          exercises: [
            '**Drill:** The "Shift & Twist" Drill - shift your hips and center of gravity under the higher hand or the hand that will not be making the next move. Pull with the toes and legs, not just push. Twist or shift the hips until you have as much weight on your feet as possible. This subtle hip adjustment can make the next move feel much easier and more controlled.',
            "**P.S.** Simply getting the hips closer to the next handhold can be a simple and effective way to improve your beta. At times it may require more lock-off strength than moving dynamic movement. Dynamic movement is a real skill, but hitting a hold dynamically can require more finger strength, so this skill may require more large muscle pulling strength - a strength much faster to acquire.",
          ],
        },
        {
          category: "",
          name: "Toe Hook Technique",
          levels: [3],
          icon: "ü¶∂",
          description:
            "Using the top of your foot or toes to hook and pull on foot holds for stability.",
          exercises: [
            "**Drill:** Find features you can hook with your toes and practice pulling with the top of your foot. Focus on engaging your shin muscles and using the toe hook to create tension and stability.",
            "**P.S.** Underclings are the best way to get started practicing Toe Hooking. Make sure to drive the heel away and flex the shin muscle.",
          ],
        },
        {
          category: "",
          name: "Knee Bar",
          levels: [3],
          icon: "ü¶µ",
          description:
            "Wedging your knee under or on a feature with opposing pressure against your toes to reduce weight on the hands. Often used to get a hands-free rest.",
          exercises: [
            "**Drill:** Look for corners, underclings, or features where you can wedge your knee under or against and press hard with the toe to create a locked-in feeling. Practice finding secure knee bar positions and using them to rest and chalk up hands-free.",
            "**P.S.** Tufas, roofs and large underclings are great features to practice the knee bar. Small adjustments to the position of the toe placement can make a huge difference between a loose knee bar and a locked-in one.",
          ],
        },
        {
          category: "",
          name: "Momentum Control",
          levels: [3],
          icon: "üèÉ",
          description:
            "Managing and controlling body swing and unwanted momentum, using minimum viable momentum (MVM).",
          exercises: [
            "**Drill:** Use Minimum Viable Momentum (MVM) - climb a flash grade route and generate just enough momentum, no more, no less. Use your legs and hips to power your movement. The less momentum we use, the more control we have when hitting the next handhold. If there is a swing, barn-door or hip sag there was momentum we need to learn to control whenever possible.",
            "**P.S.** MVM means applying just enough force to reach the next hold without creating excess momentum that can deplete our finger strength. Easy concept, but it takes a lot of awareness and practice to master, but it is essential.",
          ],
        },
        {
          category: "",
          name: "Minimum Effective Grip Force",
          levels: [4],
          icon: "üëå",
          description:
            "Using only the amount of grip strength necessary to stay on the wall, conserving energy.",
          exercises: [
            "**Drill:** Practice climbing while consciously relaxing your grip. Focus on using just enough force to maintain contact with holds. Work on trusting your feet and body position over gripping tightly.",
            "**P.S.** This is an unspoken skill of the best sport climbers on the planet.",
          ],
        },
        {
          category: "",
          name: "Extreme Body Tension",
          levels: [4],
          icon: "üí™",
          description:
            "Maintaining optimal full-body tension anytime it enhances the efficiency on a climb.",
          exercises: [
            "**Drill:** Climb on steep terrain and pull with your toes. Engage your calves, hamstrings, glutes, and lower back while bringing your knees and hips as close to the wall as possible.",
            "**P.S.** You can identify if you are doing this move by watching the heel of the lower foot. If it raises, then you are creating tension; if it doesn't, tension is not optional.",
          ],
        },
        {
          category: "",
          name: "Dynos",
          levels: [4],
          icon: "üöÄ",
          description:
            "Dynamic movements where both hands leave the wall to reach a distant hold.",
          exercises: [
            '**Drill:** Start with dynos where you "could" deadpoint to the hold to build confidence and skill. Then gradually increase the distance. Focus on generating momentum from your legs and hips and timing your release.',
            "**P.S.** Full commitment is the key! Start small but fully commit.",
          ],
        },
        {
          category: "Specific Grip Strengths",
          name: "Open Hand/Sloper Strength",
          levels: [3],
          icon: "‚úã",
          description:
            "Using a 4-finger drag or open-handed grip for slopers and open-handed strength.",
          exercises: [
            "**Drill:** Begin by completing all your warm-up climbs with an open-handed grip. It's a great way to begin building this critical grip strength.",
            "**P.S.** We often hit holds open-handed when making a big move, so open-handed strength is vital.",
          ],
        },
        {
          category: "",
          name: "Pinch Strength",
          levels: [3],
          icon: "ü§è",
          description:
            "Gripping holds by pinching them between your thumb and fingers.",
          exercises: [
            "**Drill:** Using pinch blocks is an easy way to improve our pinch strength.",
            "**P.S.** I have more fun spreading part of a session searching out climbs with lots of pinches and repeating the route as a training ladder.",
          ],
        },
        {
          category: "",
          name: "Two-arm Lock-off Strength",
          levels: [3],
          icon: "üí™",
          description:
            "Holding your body weight with both arms bent at 90 or 120 degrees.",
          exercises: [
            "**Drill:** Practice hanging with both arms bent at various angles (90¬∞, 120¬∞, 140¬∞). Focus on building endurance in lock-off positions. Progress from 10-second holds to 40-second hold.",
            "**P.S.** Once an athlete can hold a two-arm lock-off for 40 seconds, we move on to assisted one-arm lock-off strength.",
          ],
        },
        {
          category: "",
          name: "Body Tension (Core/Shoulders)",
          levels: [3],
          icon: "üí™",
          description:
            "Maintaining an engaged core and shoulder stability while climbing, especially on overhangs.",
          exercises: [
            "**Drill:** Practice hanging on overhanging holds while maintaining a tight core and stable shoulders. Focus on preventing your body from swinging or sagging. Work on maintaining tension while moving.",
            "**P.S.** I like to move slowly and think about getting my knees close to the wall and driving my elbows down to create more tension through the shoulders.",
          ],
        },
        {
          category: "",
          name: "Three-finger Drag Strength",
          levels: [4],
          icon: "üññ",
          description:
            "Using three fingers (typically index, middle, ring) in an open, dragging position on holds.",
          exercises: [
            "**Drill:** Climb on easy terrain or while you are ascending the grades while warming up and climb using only the index, middle, and ring fingers.",
            "**P.S.** Learning to climb with a 3 finger drag helped my climbing tremendously. It enhanced my ability to latch and hold onto slopers and pockets. And as a bonus when I hit a hold at my furthest reach I had the strength to reel it in.",
          ],
        },
        {
          category: "",
          name: "Two-finger Pocket Strength",
          levels: [4],
          icon: "‚úåÔ∏è",
          description:
            "Gripping pockets or small holds using only two fingers, typically the middle and ring fingers.",
          exercises: [
            "**Drill:** Practice hanging on large two-finger pockets on a hangboard.",
            "**P.S.** I prefer to climb on easy routes and only use the two fingers I want to train. This way I build strength and confidence using this grip at the same time. Then use the hangboard to ensure I am getting the loading I need to get stronger two-finger strength.",
            "**P.S.S** This type of strength is needed in limestone climbing areas like Margalef, Spain and Frankenjura, Germany.",
          ],
        },
        {
          category: "",
          name: "Undercling Strength",
          levels: [4],
          icon: "üëá",
          description:
            "Gripping holds that face downward, pulling upward against them.",
          exercises: [
            "**Drill:** The best way to improve this skill is to search out underclings. The best way to improve the strength is with strict bicep curls.",
            "**P.S.** A key to the undercling is getting the chest and feet up as fast as possible. This creates a better position to use the big pulling muscles in the arms and back to undercling.",
          ],
        },
        {
          category: "",
          name: "Gaston Shoulder Strength",
          levels: [4],
          icon: "üí™",
          description:
            "Gripping holds thumb down and pinky up. Think opening elevator doors that only has a slit for your fingers.",
          exercises: [
            "**Drill:** The best way to improve this skill and strength is with Gaston Ladder; a set of holds up a wall that allow you to hold them thumb down and pinky up. Another way to build this strength is on a pull up bar; by placing the hands as far apart as you can and perform a pull up.",
            "**P.S.** A helpful tip when doing Gaston Ladders is to make sure the left foot is high anytime you are reaching with the left hand and the same for the right.",
            "**P.S.S** The goal here is massive strength in the shoulders, scapular and subscapular that allow us to stabilize the shoulder girdle, retract the shoulder blade down and pull hard.",
          ],
        },
        {
          category: "",
          name: "Compression Strength",
          levels: [4],
          icon: "ü§≤",
          description:
            "Squeezing holds toward each other. Think of squeezing a refrigerator.",
          exercises: [
            "**Drill:** The best way to build this skill is doing big moves up a compression training ladder where every move requires compression. The best way to build this strength is with inverted dumbbell flys on a bench.",
            "**P.S.** At this level of skill including dedicated pressing exercises can become highly valuable.",
          ],
        },
        {
          category: "",
          name: "Wide-span Strength",
          levels: [4, 5],
          icon: "ü§ö",
          description:
            "Gripping holds that are far apart, requiring strength at extended reaches. Healthy shoulders required.",
          exercises: [
            "**Drill:** Perform pull ups, taking the widest grip you can perform a pull up. To get more from this exercise, imagine you are trying to break the bar as you pull up. Even trying to pull your hands away from each other.",
            "**P.S.** This is a highly underrated strength. Traditional weighted pull ups do not target the same scapular pulling muscles we need when a hold is several feet from our center of gravity and we need to pull on it. Personally I have seen a lot of value performing different types of wide pull exercises.",
          ],
        },
        {
          category: "",
          name: "Mono Pocket Strength",
          levels: [5],
          icon: "‚òùÔ∏è",
          description:
            "A mono is a single-finger pocket hold. Typically, it is held with the middle finger.",
          exercises: [
            "**Drill:** Using a hangboard, practice hanging on single-finger pockets, starting with larger, positive pockets. Always warm up thoroughly and progress gradually.",
            "**P.S.** Once you have a good amount of two-finger pocket strength, single-digit is the next level of training. This type of strength is essential in limestone climbing areas such as Margalef, Spain, and Frankenjura, Germany.",
          ],
        },
        {
          category: "Non-Movement Skills",
          name: "Breathing Control",
          levels: [1, 2, 3, 4, 5],
          icon: "üßò",
          description: "Using controlled breathing to manage stress.",
          exercises: [
            "**Drill:** Practice deep, controlled breathing during easy climbs. Focus on extending the exhale for additional relaxation.",
            "**P.S.** Likely the number one mental/emotional skill we can master as climbers to reach our climbing potential.",
          ],
        },
        {
          category: "",
          name: "Hold Types Understanding",
          levels: [1, 2, 3, 4, 5],
          icon: "üß†",
          description:
            "Recognizing and understanding different hold shapes and how to grip them effectively.",
          exercises: [
            "**Drill:** Identify all these hold types: jugs, crimps, slopers, pockets, underclings, side-pulls, gastons, tufas, and different crack sizes.",
          ],
        },
        {
          category: "",
          name: "Wall Features Understanding",
          levels: [1, 2, 3, 4, 5],
          icon: "üß†",
          description:
            "Recognizing and utilizing different rock or wall features like cracks, corners, roofs, and slabs.",
          exercises: [
            "**Drill:** Learn to identify these features: vertical face, overhang, slab, groove, ar√™te, chimney, tufa, corner, open book, ledge, roof, cave, seam, finger crack, hand crack, fist crack, and off-width crack.",
            "**P.S.** I fell in love with routes that climb big, stunning features like corners, roofs, and cracks. They provide visual appeal and get me hyped.",
          ],
        },
        {
          category: "",
          name: "Volume/Intensity Injury Awareness",
          levels: [2, 3, 4, 5],
          icon: "‚ö†Ô∏è",
          description:
            "Understanding how training volume and intensity affect injury risk and managing accordingly.",
          exercises: [
            "**Drill:** Keep a training log tracking volume, intensity, and how your body feels. Learn to recognize early signs of overuse and adjust training accordingly. Focus on listening to your body.",
            '**P.S.** When we first find climbing, it can be easy to "overdo it." Be careful not to add too much volume or intensity early on.',
          ],
        },
        {
          category: "",
          name: "Route Reading Ability",
          levels: [2, 3, 4, 5],
          icon: "üìñ",
          description:
            "Analyzing routes from the ground to identify holds, sequences, and potential difficulties.",
          exercises: [
            "**Drill:** Practice reading routes before climbing them. Identify key holds, rest positions, and crux sections from the ground. Compare your analysis with the actual climbing experience after each climb.",
            '**P.S.** Spending time "eyeing up a route" can provide key information on beta and gear placements.',
          ],
        },
        {
          category: "",
          name: "Visualization Techniques",
          levels: [2, 3, 4, 5],
          icon: "üëÅ",
          description:
            "Mentally rehearsing climbs and visualizing successful execution before attempting them.",
          exercises: [
            "**Drill:** Before attempting routes, spend time visualizing each sequence of moves. Do extra mental rehearsal of difficult sections.",
            '**P.S.** Once I committed to remembering and then being able to visualize an entire route, including the small body position changes and transitions between holds, my climbing took a huge leap in grades. This allowed me to execute the best beta instead of trying to "re-remember" on the fly.',
          ],
        },
        {
          category: "",
          name: "Breathing Control (Power)",
          levels: [2, 3, 4, 5],
          icon: "üßò",
          description:
            "Using breathing techniques to generate power and maintain performance during intense efforts.",
          exercises: [
            "**Drill:** Practice power breathing as you warm up. Focus on a powerful exhale. Work on coordinating your power breathing with movement.",
            "**P.S.** I like to inhale through my nose and give a powerful exhale through my mouth. I often begin this breathing style as I enter a challenging sequence to increase focus and core tension.",
          ],
        },
        {
          category: "",
          name: "Projecting Skills",
          levels: [2, 3, 4, 5],
          icon: "üéØ",
          description:
            "Working routes over multiple sessions, breaking them into sections and gradually linking bigger sections together until you can send the entire route.",
          exercises: [
            "**Drill:** Choose routes at your limit and work them systematically. Break routes into sections, master each section, then link them together. Focus on incremental progress over multiple sessions. Rest more between efforts than you think necessary. Get the crux wired. Brush the holds and enjoy the process.",
            "**P.S.** This skill can also be applied in a single session. Pick a route to work on for the day or session and be systematic in how you tackle different parts of the route.",
          ],
        },
        {
          category: "",
          name: "Redpointing Skills",
          levels: [2, 3, 4, 5],
          icon: "üî¥",
          description:
            "Successfully climbing a route from bottom to top after having been on it previously.",
          exercises: [
            "**Drill:** Practice going for redpoint burns on projects. Focus on executing perfect sequences under pressure. Work on managing redpoint anxiety and performing when it counts. When you fall identify what you will do better or different next time. Get the crux wired. Learn to undergrip positive holds.",
            "**P.S.** Learning and executing effective redpointing tactics is so underrated. With solid redpointing tactics, most climbers can climb grades they never thought possible.",
          ],
        },
        {
          category: "",
          name: "Beta Identification/Refinement",
          levels: [2, 3, 4, 5],
          icon: "üîç",
          description:
            "Finding the best hold and movement sequences for you through trial, error, and refinement.",
          exercises: [
            "**Drill:** Practice finding multiple different sequences for the same section of climbing. Then find the best beta for your specific body type and strengths.",
            "**P.S.** My wife is five feet tall and has completely different skills and strengths than I do. We often climb the same route completely differently. Make sure not to rely on others' beta. Develop the skill of problem identification and problem-solving for yourself.",
          ],
        },
        {
          category: "",
          name: "Rest Identification",
          levels: [2, 3, 4, 5],
          icon: "üòå",
          description:
            "Recognizing potential rest positions and recovery opportunities during climbs.",
          exercises: [
            "**Drill:** While climbing, try to find the best rest possible on every hold on a moderately challenging climb. This will help you develop a ton of body awareness.",
            "**P.S.** Before attempting a climb, search for any stems, knee bars, and good holds where you can recover energy.",
          ],
        },
        {
          category: "",
          name: "Technique Learning/Review",
          levels: [3, 4, 5],
          icon: "üìö",
          description:
            "Actively studying and practicing climbing techniques through observation and analysis.",
          exercises: [
            "**Drill:** Watch strong climbers and analyze their techniques. Practice new techniques on easier terrain before applying them to more challenging routes. Focus on conscious skill development.",
            "**P.S.** As a climber and coach, I have found that projecting alone is not enough to enhance technical skills. Deliberately focusing time on specific skills and techniques, and gradually adding challenge over time, is a valuable habit for skill acquisition.",
          ],
        },
        {
          category: "",
          name: "Sequence Memorization",
          levels: [3, 4, 5],
          icon: "üß†",
          description:
            "Remembering complex climbing sequences accurately, including foot and hand placements, knee and hip positioning, and pressure application to hands and feet.",
          exercises: [
            "**Drill Name:** Beta Relay - A group exercise to improve route visualization and memory by reciting a route's moves without looking, accounting for different beta.",
            "**How to do it:** 1. With 1‚Äì2 friends, climb a moderate route twice each. 2. After each climb, visualize the route for 1‚Äì2 minutes, focusing on moves and holds. 3. Face away from the route. Starting from the first move, take turns describing one move at a time until you reach the top. 4. Discuss beta differences to align the sequence. 5. Optionally, check the route to verify accuracy.",
            "**P.S.** This fun, game-like drill sharpens your ability to recall sequences and sparks laughs when beta varies!",
          ],
        },
        {
          category: "",
          name: "Flash Strategy",
          levels: [3, 4, 5],
          icon: "‚ö°",
          description:
            "Developing approaches for climbing routes successfully on the first attempt.",
          exercises: [
            "**Drill:** Practice flashing routes by gathering beta from others and carefully reading the route.",
            "**P.S.** On my four-week trip to Kalymnos, Greece, in 2011, an Italian climber shared a game-changing flashing/onsighting tactic. He climbed fast, making swift, effective moves without hesitating to find perfect footholds or finger positions. This surprised me‚ÄîI thought slow, conservative climbing was better for flashes. He explained that overanalyzing beta burns grip strength; quick decisions and continuous movement save energy and maintain momentum. If he fell, he'd study every nuance for a redpoint attempt.",
          ],
        },
        {
          category: "",
          name: "Progress Tracking",
          levels: [3, 4, 5],
          icon: "üìä",
          description:
            "Monitoring and recording your climbing development to identify strengths and weaknesses and ensure consistency and progressive overload.",
          exercises: [
            "**Drill:** Keep detailed records of your climbing and training. A pen and notebook are vital for gradually increasing intensity and load, applying the fundamental principle of progressive overload.",
            "**P.S.** To improve, consistently challenge your body just beyond its current capacity with small, strategic increases in effort each week, month, and year. Random workouts spark beginner gains, but structured progress requires tracking sessions and tweaking one variable at a time. Each session offers a chance for muscle, tendon, and mental growth. Pushing too hard risks injury; too little misses gains. Tracking is key to progression.",
          ],
        },
        {
          category: "",
          name: "Weaknesses Identification",
          levels: [3, 4, 5],
          icon: "üîç",
          description:
            "Recognizing your biggest limitations to improve quickly by turning weaknesses into strengths, a proven way to enhance sports performance.",
          exercises: [
            "**Drill:** Regularly assess your climbing across different styles and difficulties. Identify patterns in failures and focus training on your weakest areas. Seek feedback from other climbers. Weekly, record, watch, and analyze video of yourself climbing, seeking weaknesses like you'd search for edible mushrooms in a forest.",
            '**P.S.** Honestly asking, "Why do I still suck at climbing?" unlocked a new level for me. After a two-year plateau, focusing solely on my weaknesses led to climbing 5.13 in six months.',
          ],
        },
        {
          category: "",
          name: "Project Selection",
          levels: [3, 4, 5],
          icon: "üéØ",
          description:
            "Choosing appropriate routes that challenge you without being impossible.",
          exercises: [
            "**Drill:** Guidebooks and grades help, but trying a route's moves is key to identifying a challenging yet achievable project. The best projects push your technical limits without requiring extra physical training and can be sent in fewer than five sessions.",
            '**P.S.** Ask yourself after inspecting a potential project: "If I dial in perfect beta and climb my best, is this climb possible?" and "Does this climb inspire me to commit to the effort?" If both answers are yes, you\'ve found your project. If not, keep searching for a climb worth your dedication.',
          ],
        },
      ];
      let currentLevel = null;
      let showingAll = false;
      // Modal functions
      function openModal(skill) {
        const modal = document.getElementById("skillModal");
        const title = document.getElementById("modalTitle");
        const description = document.getElementById("modalDescription");
        const exercisesList = document.getElementById("modalExercisesList");

        title.innerHTML = `${skill.icon} ${skill.name}`;
        description.textContent = skill.description;

        exercisesList.innerHTML = "";
        skill.exercises.forEach((exercise) => {
          const li = document.createElement("li");
          li.innerHTML = exercise;
          exercisesList.appendChild(li);
        });

        modal.style.display = "block";
        document.body.style.overflow = "hidden";
      }
      function closeModal() {
        const modal = document.getElementById("skillModal");
        modal.style.display = "none";
        document.body.style.overflow = "auto";
      }
      // Close modal when clicking outside
      window.onclick = function (event) {
        const modal = document.getElementById("skillModal");
        if (event.target === modal) {
          closeModal();
        }
      };
      // Close modal with Escape key
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape") {
          closeModal();
        }
      });
      // Level selection
      function selectLevel(level) {
        currentLevel = level;
        document.querySelectorAll(".level-btn").forEach((btn) => {
          btn.classList.remove("selected");
        });

        document
          .querySelector(`[data-level="${level}"]`)
          .classList.add("selected");

        const levelNames = [
          "",
          "Beginner",
          "Intermediate",
          "Advanced",
          "Advanced Plus",
          "Elite",
        ];
        document.getElementById("levelInfo").innerHTML = `
       <strong>Selected: ${levelNames[level]}</strong><br>
       <small>üí° Focus on mastering skills at your level and below!</small>
       `;
      }
      function toggleShowAll() {
        showingAll = !showingAll;
        // This is a simplified version - in full version would control visibility
        document.getElementById("levelInfo").innerHTML = showingAll
          ? "<strong>Showing All Levels</strong><br><small>üí° Select your level for focused training!</small>"
          : "Select your current level to see focused skills and training recommendations!";
      }
      // Create skills table
      function createSkillsTable() {
        const tbody = document.getElementById("skillsTableBody");
        let currentCategory = "";

        skillsData.forEach((skill) => {
          // Create category header if new category
          if (skill.category && skill.category !== currentCategory) {
            const categoryRow = document.createElement("tr");
            const categoryCell = document.createElement("td");
            categoryCell.className = "skill-name category-header";
            categoryCell.innerHTML = `<strong>${skill.category}</strong>`;
            categoryRow.appendChild(categoryCell);
            // Empty cells for each level
            for (let i = 0; i < 5; i++) {
              const emptyCell = document.createElement("td");
              categoryRow.appendChild(emptyCell);
            }
            tbody.appendChild(categoryRow);
            currentCategory = skill.category;
          }

          // Create skill row
          const row = document.createElement("tr");

          const skillCell = document.createElement("td");
          skillCell.className = "skill-name clickable-skill";
          skillCell.innerHTML = `${skill.icon} ${skill.name}`;
          skillCell.addEventListener("click", () => openModal(skill));
          row.appendChild(skillCell);

          // Level cells (1-5)
          for (let level = 1; level <= 5; level++) {
            const levelCell = document.createElement("td");
            const isRequired = skill.levels.some(
              (reqLevel) => reqLevel <= level
            );
            if (isRequired) {
              levelCell.innerHTML = '<span class="checkmark">‚úì</span>';
            }
            row.appendChild(levelCell);
          }

          tbody.appendChild(row);
        });
      }
      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        createSkillsTable();

        // Set up level buttons
        document.querySelectorAll(".level-btn").forEach((btn) => {
          btn.addEventListener("click", () => {
            selectLevel(parseInt(btn.dataset.level));
          });
        });
      });

      // Gamification Data
      const badges = [
        {
          id: "beginner",
          name: "Beginner Badge",
          icon: "üéØ",
          description: "Complete all beginner level skills",
          requirement: { level: 1, skills: 10 },
        },
        {
          id: "intermediate",
          name: "Intermediate Badge",
          icon: "‚≠ê",
          description: "Complete all intermediate level skills",
          requirement: { level: 2, skills: 15 },
        },
        {
          id: "advanced",
          name: "Advanced Badge",
          icon: "üåü",
          description: "Complete all advanced level skills",
          requirement: { level: 3, skills: 20 },
        },
        {
          id: "master",
          name: "Master Badge",
          icon: "üëë",
          description: "Complete all elite level skills",
          requirement: { level: 5, skills: 25 },
        },
      ];

      // User Progress Data
      let userProgress = {
        masteredSkills: new Set(),
        currentLevel: 1,
        badges: new Set(),
        lastUpdated: new Date(),
      };

      // Initialize Progress
      function initializeProgress() {
        // Load saved progress from localStorage
        const savedProgress = localStorage.getItem("climbingProgress");
        if (savedProgress) {
          const parsed = JSON.parse(savedProgress);
          userProgress.masteredSkills = new Set(parsed.masteredSkills);
          userProgress.currentLevel = parsed.currentLevel;
          userProgress.badges = new Set(parsed.badges);
          userProgress.lastUpdated = new Date(parsed.lastUpdated);
        }

        updateProgressDisplay();
        renderBadges();
      }

      // Update Progress Display
      function updateProgressDisplay() {
        document.getElementById("totalSkills").textContent =
          userProgress.masteredSkills.size;
        document.getElementById("currentLevel").textContent =
          userProgress.currentLevel;
        document.getElementById("badgesEarned").textContent =
          userProgress.badges.size;

        // Calculate progress percentage based on total mastered skills out of all available skills
        const totalAvailableSkills = skillsData.length;
        const masteredSkillsCount = userProgress.masteredSkills.size;
        const progressPercentage =
          (masteredSkillsCount / totalAvailableSkills) * 100;

        document.getElementById(
          "levelProgress"
        ).style.width = `${progressPercentage}%`;
      }

      // Render Badges
      function renderBadges() {
        const container = document.getElementById("badgesContainer");
        container.innerHTML = "";

        badges.forEach((badge) => {
          const isUnlocked = userProgress.badges.has(badge.id);
          const badgeElement = document.createElement("div");
          badgeElement.className = `badge ${
            isUnlocked ? "unlocked" : "locked"
          }`;
          badgeElement.innerHTML = `
            <div class="badge-icon">${badge.icon}</div>
            <div class="badge-name">${badge.name}</div>
            <div class="badge-description">${badge.description}</div>
            ${isUnlocked ? '<div class="badge-status">‚úì Unlocked</div>' : ""}
          `;

          badgeElement.addEventListener("click", () => showBadgeDetails(badge));
          container.appendChild(badgeElement);
        });
      }

      // Show Badge Details
      function showBadgeDetails(badge) {
        const modal = document.getElementById("skillModal");
        const title = document.getElementById("modalTitle");
        const description = document.getElementById("modalDescription");
        const exercisesList = document.getElementById("modalExercisesList");

        const isUnlocked = userProgress.badges.has(badge.id);

        // Get all skills for this level
        const requiredSkills = skillsData.filter((skill) =>
          skill.levels.some((level) => level <= badge.requirement.level)
        );

        // Get mastered skills for this level
        const masteredSkills = Array.from(userProgress.masteredSkills).filter(
          (skillName) => {
            const skill = skillsData.find((s) => s.name === skillName);
            return (
              skill &&
              skill.levels.some((level) => level <= badge.requirement.level)
            );
          }
        );

        // Find missing skills
        const missingSkills = requiredSkills.filter(
          (skill) => !masteredSkills.includes(skill.name)
        );

        title.innerHTML = `${badge.icon} ${badge.name} ${
          isUnlocked ? "‚úì" : ""
        }`;
        description.textContent = badge.description;

        const requirements = `Complete ${badge.requirement.skills} skills at level ${badge.requirement.level}`;

        let modalContent = `
          <li><strong>Status:</strong> ${
            isUnlocked ? "Unlocked ‚úì" : "Locked üîí"
          }</li>
          <li><strong>Requirements:</strong> ${requirements}</li>
          <li><strong>Progress:</strong> ${masteredSkills.length}/${
          badge.requirement.skills
        } skills mastered</li>
        `;

        if (!isUnlocked && missingSkills.length > 0) {
          modalContent += `
            <li class="missing-skills-header"><strong>Missing Skills:</strong></li>
            ${missingSkills
              .map(
                (skill) => `
              <li class="missing-skill">
                <span class="skill-icon">${skill.icon}</span>
                <span class="skill-name">${skill.name}</span>
                <button class="master-skill-btn" onclick="masterSkill('${skill.name}')">Mark as Mastered</button>
              </li>
            `
              )
              .join("")}
          `;
        }

        exercisesList.innerHTML = modalContent;

        modal.style.display = "block";
        document.body.style.overflow = "hidden";
      }

      // Add function to master a skill directly from the modal
      function masterSkill(skillName) {
        if (!userProgress.masteredSkills.has(skillName)) {
          userProgress.masteredSkills.add(skillName);
          updateProgressDisplay();
          checkBadges();
          saveProgress();

          // Show notification
          const notification = document.createElement("div");
          notification.className = "skill-mastered-notification";
          notification.innerHTML = `üéâ Mastered: ${skillName}`;
          document.body.appendChild(notification);
          setTimeout(() => notification.remove(), 3000);

          // Update the modal to reflect the change
          const badge = badges.find((b) => !userProgress.badges.has(b.id));
          if (badge) {
            showBadgeDetails(badge);
          }
        }
      }

      // Save Progress
      function saveProgress() {
        const progressToSave = {
          masteredSkills: Array.from(userProgress.masteredSkills),
          currentLevel: userProgress.currentLevel,
          badges: Array.from(userProgress.badges),
          lastUpdated: userProgress.lastUpdated,
        };

        localStorage.setItem(
          "climbingProgress",
          JSON.stringify(progressToSave)
        );
      }

      // Modify existing openModal function to track progress
      const originalOpenModal = openModal;
      openModal = function (skill) {
        originalOpenModal(skill);

        // Add milestone tracking
        if (!userProgress.masteredSkills.has(skill.name)) {
          const skillCell = document.querySelector(
            `[data-skill="${skill.name}"]`
          );
          if (skillCell) {
            skillCell.classList.add("milestone");
            skillCell.innerHTML += `
              <div class="milestone-tooltip">
                <div class="milestone-title">New Skill!</div>
                <div class="milestone-description">Click to learn more about ${skill.name}</div>
              </div>
            `;
          }
        }
      };

      // Modify existing selectLevel function to update progress
      const originalSelectLevel = selectLevel;
      selectLevel = function (level) {
        originalSelectLevel(level);
        userProgress.currentLevel = level;
        updateProgressDisplay();
        saveProgress();
      };

      // Initialize gamification features when the page loads
      document.addEventListener("DOMContentLoaded", function () {
        // ... existing initialization ...
        initializeProgress();
      });

      // Modify the click handler for skill mastery to properly track skill names
      document.addEventListener("click", function (event) {
        const skillCell = event.target.closest(".clickable-skill");
        if (skillCell) {
          // Extract skill name by removing the icon and trimming
          const skillName = skillCell.textContent
            .replace(/[^\w\s]/g, "")
            .trim();
          const skill = skillsData.find((s) => s.name === skillName);

          if (skill && !userProgress.masteredSkills.has(skillName)) {
            userProgress.masteredSkills.add(skillName);
            skillCell.classList.add("mastered");
            updateProgressDisplay();
            checkBadges();
            saveProgress();

            // Show immediate feedback
            const notification = document.createElement("div");
            notification.className = "skill-mastered-notification";
            notification.innerHTML = `üéâ Mastered: ${skillName}`;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
          }
        }
      });

      // Update the checkBadges function to properly count skills per level
      function checkBadges() {
        badges.forEach((badge) => {
          if (!userProgress.badges.has(badge.id)) {
            // Count mastered skills for this level
            const masteredSkillsForLevel = Array.from(
              userProgress.masteredSkills
            ).filter((skillName) => {
              const skill = skillsData.find((s) => s.name === skillName);
              return (
                skill &&
                skill.levels.some((level) => level <= badge.requirement.level)
              );
            }).length;

            console.log(
              `Checking badge ${badge.id}: Found ${masteredSkillsForLevel} mastered skills for level ${badge.requirement.level}`
            );

            if (masteredSkillsForLevel >= badge.requirement.skills) {
              userProgress.badges.add(badge.id);
              showBadgeUnlocked(badge);
              saveProgress();
            }
          }
        });

        renderBadges();
      }

      // Update the showBadgeUnlocked function to be more prominent
      function showBadgeUnlocked(badge) {
        const notification = document.createElement("div");
        notification.className = "badge-notification";
        notification.innerHTML = `
          <div class="badge-icon">${badge.icon}</div>
          <div class="badge-info">
            <div class="badge-name">üéâ ${badge.name} Unlocked! üéâ</div>
            <div class="badge-description">${badge.description}</div>
          </div>
        `;

        document.body.appendChild(notification);

        // Play a subtle animation
        notification.style.animation = "slideIn 0.3s ease-out";

        // Remove after 5 seconds with a fade out
        setTimeout(() => {
          notification.style.opacity = "0";
          notification.style.transition = "opacity 0.5s ease-out";
          setTimeout(() => notification.remove(), 500);
        }, 5000);
      }

      // Add scroll animation functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Add animation classes to elements
        const elementsToAnimate = [
          { element: ".chart-title", delay: "delay-1" },
          { element: ".intro-text", delay: "delay-2" },
          { element: ".level-selection", delay: "delay-1" },
          { element: ".progress-tracker", delay: "delay-2" },
          { element: ".badges-section", delay: "delay-3" },
          { element: ".table-container", delay: "delay-4" },
          { element: ".badge", delay: "delay-1" },
          { element: ".stat-box", delay: "delay-1" },
        ];

        elementsToAnimate.forEach(({ element, delay }) => {
          const elements = document.querySelectorAll(element);
          elements.forEach((el) => {
            el.classList.add("animate-on-scroll", delay);
          });
        });

        // Create Intersection Observer
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
                // Unobserve after animation is triggered
                observer.unobserve(entry.target);
              }
            });
          },
          {
            threshold: 0.1, // Trigger when 10% of the element is visible
            rootMargin: "0px 0px -50px 0px", // Start animation slightly before element comes into view
          }
        );

        // Observe all elements with animation class
        document.querySelectorAll(".animate-on-scroll").forEach((element) => {
          observer.observe(element);
        });

        // Add animation to badges individually
        document.querySelectorAll(".badge").forEach((badge, index) => {
          badge.style.transitionDelay = `${index * 0.1}s`;
        });

        // Add animation to stat boxes individually
        document.querySelectorAll(".stat-box").forEach((stat, index) => {
          stat.style.transitionDelay = `${index * 0.1}s`;
        });

        // Add animation to level buttons
        document.querySelectorAll(".level-btn").forEach((btn, index) => {
          btn.classList.add("animate-on-scroll", `delay-${index + 1}`);
          observer.observe(btn);
        });
      });

      // Add smooth scroll to anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
    </script>
  </body>
</html>
